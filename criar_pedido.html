<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criar Pedido</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Criar Pedido</h1>
        <nav>
            <ul>
                <li><a href="loja.html">Loja</a></li>
                <li><a href="criar_usuario.html">Criar Usuário</a></li>
                <li><a href="listar_usuarios.html">Listar Usuário</a></li>
                <li><a href="listar_pedidos.html">Listar Pedidos</a></li>
                <li><a href="criar_pedido.html">Criar Pedido</a></li>
                <li><a href="dashboard.html">Dashboard</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <h2>Formulário de Criação de Pedido</h2>


        <form id="criarPedidoForm">
            <label for="produto">Produto:</label>
            <input type="text" id="produto" name="produto" required>
            
            <label for="categoria">Categoria:</label>
            <input type="text" id="categoria" name="categoria" required>
            
            <label for="preco">Preço:</label>
            <input type="number" id="preco" name="preco" step="0.01" required>
            
            <label for="id_usuario">ID Usuário:</label>
            <input type="number" id="id_usuario" name="id_usuario" required>
            
            <button type="submit">Criar Pedido</button>
        </form>
        <p id="message"></p> <!-- Exibe a mensagem de sucesso -->
        
    </main>
    <footer>
        <p>&copy; 2024 Seu Sistema. Todos os direitos reservados.</p>
    </footer>

    <script>

            // Script para adicionar pedidos ao Local Storage
        document.getElementById("criarPedidoForm").addEventListener("submit", function (event) {
            event.preventDefault(); // Evita o envio do formulário

            // Captura os dados do formulário
            const produto = document.getElementById("produto").value;
            const categoria = document.getElementById("categoria").value;
            const preco = document.getElementById("preco").value;
            const idUsuario = document.getElementById("id_usuario").value;

            // Cria um objeto pedido
            const novoPedido = {
                produto: produto,
                categoria: categoria,
                preco: parseFloat(preco),
                idUsuario: parseInt(idUsuario),
                data: new Date().toISOString()  // Adiciona a data do pedido
            };

            // Obtém a lista de pedidos armazenada no Local Storage (ou cria uma lista vazia, se não houver)
            let pedidos = JSON.parse(localStorage.getItem("pedidos")) || [];

            // Adiciona o novo pedido à lista
            pedidos.push(novoPedido);

            // Salva a lista de pedidos no Local Storage
            localStorage.setItem("pedidos", JSON.stringify(pedidos));

            // Exibe uma mensagem de sucesso
            const messageElement = document.getElementById("message");
            messageElement.innerText = "Pedido cadastrado com sucesso!";

            // Limpa os campos do formulário
            document.getElementById("criarPedidoForm").reset();
        });




    </script>


</body>
</html>
