<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="styles.css">
    <script src="loginjs.js" defer></script>
</head>
<body>
    <header>
        <h1>Login</h1>
        <img src="logo.PNG" alt="Descrição da imagem" width="170" height="120">

    </header>
    <main>
        <h2>Faça seu login</h2>
        <form id="loginForm">
            <label for="login">Login:</label>
            <input type="text" id="login" name="login" required>

            <label for="senha">Senha:</label>
            <input type="password" id="senha" name="senha" required>

            <button type="submit">Entrar</button>
        </form>
    </main>
    <footer>
        <p>&copy; 2024 Seu Sistema. Todos os direitos reservados.</p>
    </footer>

    <script>
        document.getElementById("loginForm").addEventListener("submit", function (event) {
        event.preventDefault(); // Impede o envio do formulário

        // Obtém os valores do formulário de login
        const loginInput = document.getElementById("login").value;
        const senhaInput = document.getElementById("senha").value;

        // Recupera os usuários do LocalStorage
        const usuarios = JSON.parse(localStorage.getItem("usuarios")) || [];

        // Verifica se o login e a senha correspondem a algum usuário
        const usuarioEncontrado = usuarios.find(usuario => usuario.login === loginInput && usuario.senha === senhaInput);

        // Exibe mensagem de sucesso ou erro
        const messageElement = document.getElementById("message");
        if (usuarioEncontrado) {
            // Se o usuário for encontrado, exibe uma mensagem de sucesso e redireciona
            messageElement.innerText = "Login bem-sucedido!";
            messageElement.style.color = "green"; // Mensagem de sucesso

            // Redireciona para a página inicial (index.html)
            window.location.href = "loja.html";
        } else {
            // Se o login ou senha estiverem incorretos, exibe uma mensagem de erro
            messageElement.innerText = "Login ou senha inválidos.";
            messageElement.style.color = "red"; // Mensagem de erro
        }
        });


    </script>

</body>
</html>
